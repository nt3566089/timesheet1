##  USBメディアエラーによるJobAbortに関する制限(CH20756)
USBメディアエラーによるJobAbortが発生した場合、サービスIN同等の動作を行う。

**<上位仕様と本章>**

■FF と本章

Ⅱ.Ⅰ.Ⅰ Print Service別冊 Media Print

■UI Dialogue Concept and Basic Behaviorと本章

特に記載なし

■関連するUI-DFD

08 Job ……全般

### 動作

**<動作>**

1.  以下のChainLinkよりジョブアボートした場合、デジカメプリント/文書プリントのプログラム画面を抜け、サービスINした時と同じ画面に強制的に遷移させる。これは、メディア内の情報を画面表示し続けることによる不整合を避けるためである。

2.  ScanToUsbにおいても、サービスINした時と同じ画面に強制的に遷移させる。DMP-X～

|ChaiLink|MediaPrint関係のみ|MediaPrint+<br/>ScanToUSB<br/>|内容|
|---|---|---|---|---|
|{16, 794}|○|○|Media未挿入(ジョブ中に発生)|
|{16, 795}|○|○|フォーマットエラー(ジョブ中に発生)|
|{16, 796}|○|○|ファイル属性取得エラー(ジョブ中に発生)-当該ジョブのみのためジョブアボート|
|{16, 797}|○|○|画像ファイル取得エラー(ジョブ中に発生)-当該ジョブのみのためジョブアボート|
|{26, 720}|-|○|メディア容量フルエラー(ジョブ中)|
|{26, 721}|-|○|メディアアクセスエラー(ジョブ中)|
|{26, 722}|-|○|メディア未フォーマットエラー|
|{26, 723}|○|○|メディアアクセスエラー|
|{26, 727}|-|○|Media filepath fail|
|{116, 704}|○|○|Media未挿入(非ジョブ中に発生)|
|{116, 705}|○|○|フォーマットエラー(非ジョブ中に発生)|
|{116, 706}|○|○|ファイル属性取得エラー(非ジョブ中に発生)|
|{116, 707}|○|○|画像ファイル取得エラー(非ジョブ中に発生)|
|{116, 708}|○|○|ファイル属性取得エラー(ジョブ中に発生)|
|{116, 709}|○|○|画像ファイル取得エラー(ジョブ中に発生)|
|{116, 716}|○|○|対象ファイルなし(非ジョブ中に発生)|
|{116, 717}|○|○|MediaLib新規実行要求の受付不可|

実装参考情報…
TimerでのAutoClear(以前の画面を維持)と同じ動作をさせることにより、論理メディアの作り直し動作が実施される。
この仕組みを使用してメディアの読み直しを行う。

**<制限>**

ジョブ状態画面または機械管理画面表示中に、上記論理メディアの作り直しが必要なJobAbortが発生した場合は、Soft的な制限で、メニュー画面に移行する

**Appendix (Q&A)**

――――――――――――――――――――――――――――――――――――――

Q:Chainlinkの中に、"(非ジョブ中)"というのがありますが、JobAbortでは通知されないのでは?

A:通知されない可能性もありますが、要求元よりこのChainLinkも対象に含めてくださいと要求があった為対象としている。

――――――――――――――――――――――――――――――――――――――





――――――――――――――――――――――――――――――――――――――

Q:制限にあるSoft的な制限とはなんですか?

A:MediaPrint(文書プリント/デジカメプリント)は、Client主導でFrameを開く制御を行っており、サーバーからのProgramClearがうまく動作しないケースがあるようです。対策可能ですが時期や影響度を考えて、安全なメニューに戻す処理とした。