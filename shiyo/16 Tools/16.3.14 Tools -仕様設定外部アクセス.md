### Tools外部アクセス設定

####  接続先の登録

##### 接続先情報設定

###### 概要
外部アクセスする接続先情報をサーバーごとに設定する。サーバー1～Nに対して、以下の項目を設定可能である。

###### システムデータ

|項目|関連機能|設定範囲|備考|
|---|---|---|---|---|
|外部サービスの接続先名称 1～N||32バイト以内の文字(デフォルト値はNULL)<br/><ul><li>最大文字数16文字<br/></li></ul>文字コードは、以下の通り。<br/><ul><li>日本語: JIS X0208 第一水準+第二水準36文字<br/></li><li>英語: CP1252<br/></li><li>中国語(SC): T.B.D.<br/></li><li>中国語(TC): T.B.D.<br/></li><li>コリア後: T.B.D.<br/></li></ul>|省略可能|
|外部サービスの接続先URL 1～N||ASCII 256バイト以内の文字列<br/>(デフォルト値はNULL)<br/>|必須|
|外部サービスの接続先説明 1～N||128バイト以内の文字(デフォルト値はNULL)<br/><ul><li>最大文字数64文字<br/></li></ul>文字コードは、以下の通り。<br/><ul><li>日本語: JIS X0208 第一水準+第二水準36文字<br/></li><li>英語: CP1252<br/></li><li>中国語(SC): T.B.D.<br/></li><li>中国語(TC): T.B.D.<br/></li><li>コリア後: T.B.D.<br/></li></ul>|省略可能|
|外部サービスアクセス用認証情報 1～N||Webアプリケーションアクセスのために使用する認証情報として何を使用するかの設定。設定値は、以下のとおり。<br/><ul><li>System Data(デフォルト値)<br/></li><li>Authentication Information<br/></li></ul><ul><li>本システムデータがAuthentication Informationに設定された場合、「認証方式」が[外部認証/集計]に設定されているときのみ有効動作をする(CH11885)。<br/></li></ul>|DMP6-2以降(CH11197「どこでもプリントEWB方式」)。<br/>DMP6-1では非表示(CH11469)<br/>DMP6-2以降、設定可能とする(CH11885)<br/>|
|外部サービスアクセス用ユーザーID 1～N||ASCII 128文字以内の文字列(デフォルト値はNULL)。<br/>「外部サービスアクセス用認証情報」が「System Data」である場合のWebアプリケーションにアクセスするためのユーザーID<br/>|DMP6以降(CH11197「どこでもプリントEWB方式」)。<br/>「外部サービスアクセス用認証情報」が「System Data」である場合に有効。ただし、「外部サービスアクセス用認証情報」が「Authentication Information」である場合も設定可能。<br/>CH11522(ASCII 256文字からASCII 128文字へ変更)<br/>|
|外部サービスアクセス用パスワード 1～N||ASCII 128文字以内の文字列(デフォルト値はNULL)。<br/>「外部サービスアクセス用認証情報」が「System Data」である場合のWebアプリケーションにアクセスするためのパスワード<br/>|DMP6以降(CH11197「どこでもプリントEWB方式」)。<br/>「外部サービスアクセス用認証情報」が「System Data」である場合に有効。ただし、「外部サービスアクセス用認証情報」が「Authentication Information」である場合も設定可能。<br/>|
|外部サービスへの情報通知 1～N||外部サービスへデバイス識別情報や認証情報を通知するかどうかの設定。設定値は、以下のとおり。<br/><ul><li>OFF:通知しない(デフォルト値)<br/></li><li></li></ul>ONを削除し、以下に変更(CH15235,DMP-Kobe1以降)<br/><ul><li>FX:FXサーバー形式で通知(DMP7までのON)<br/></li><li>IIX:IIXサーバー形式で通知(ICカードID含まず)<br/></li><li>IIXICCD:IIXサーバー形式で通知(ICカードID付)<br/></li></ul>|DMP6以降(CH11197「どこでもプリントEWB方式」)。<br/>CH15235(DMP-Kobe1以降)により、通知内容がFX(従来通り)、IIXICカード無し、IIXICカードあり、の3種類へと変更。<br/>|
|外部サービスへのユーザー権限情報通知1～N||外部サービスへユーザー権限情報を通知するかどうかの設定。設定値は、以下のとおり。<br/><ul><li>OFF:通知しない(デフォルト値)<br/></li><li>ON:通知する<br/></li></ul>|DMP2007-2a以降(CH13083:「<DMP2007-2:RF1681>EWBから外部アプリへのプリントのジョブ実行チケット通知方法追加」)|
|外部サービス別のブラウザ機能コード 1～N||0～65535の数値<br/>外部アクセスとしてブラウザを起動する際に指定する機能コード。外部サービス毎に設定可能。<br/>|DMP-XI以降(CH23594)|


###### 制限・注意事項

-   接続先情報を登録・変更する場合、接続先URLは設定必須、接続先名称と接続先説明は設定省略可能である。

-   「外部サービスアクセス用認証情報」が「SystemData」の場合、「外部サービスアクセス用ユーザーID」もしくは「外部サービスアクセス用パスワード」の何れかがNULLに設定されていると自動認証しない。

-   「外部サービスアクセス用認証情報」が「Authentication
    Information」の場合、以下のように動作する(CH11885)。

    -   「認証方式」が[本体認証/集計]または[ネット認証/集計]の場合、認証画面を開き、[ユーザーID]および[パスワード]の入力を促す。

    -   「認証方式」が[外部認証/集計]で、「認証システム」が(LDAP::SearchAndLogin)]または[外部認証(AWAA)]の場合、認証システムから取得した「ユーザーID」とデバイス認証操作時に入力した「パスワード」が入力された認証画面を表示し、ユーザーに確認させる。また、「LDAP認証の設定」の\[外部サービスアクセス用認証情報のUPN形式の使用\]が\[使用する\]に設定されている場合、認証システムから取得した「ユーザーID」と「ドメイン/レルム名」でUPN形式のユーザーID文字列を生成する(CH13131)。「認証方式」が[外部認証/集計]で、「認証システム」が「認証システム」が(LDAP::SearchAndLogin)]、[外部認証(AWAA)]以外の場合、デバイス認証操作時に入力した[ユーザーID]および[パスワード]が入力された認証画面を表示し、ユーザーに確認させる。

    -   ICCG認証操作時にパスワードが不要な設定の場合、[ユーザーID]が入力された認証画面を表示し、[パスワード]の入力を促す。

-   ジョブチケットは、\[外部サービスへの情報通知\]
    もしくは\[外部サービスへの権限情報通知\]のいずれかがONであれば通知する。

###### 機種固有情報

-   本システムデータは、FCWと外部アクセス機能を搭載し、かつネットワークへの接続が可能である機種でのみ設定可能である。

-   Tarzan、Hagi、DMP5プロダクト、DMP6プロダクト、DMP2007プロダクトでは、サーバー数Nは10である。

###### 参考資料

Common FF 2-17: Webアプリケーション連携

Common FF 3-2-17: 認証

##### デフォルト接続先設定(CH11769によりDMP6-3以降、設定無効)

###### 概要

外部アクセスサービスへエントリーしたときに、自動接続するサーバー(1～N)を設定する。

###### システムデータ

|項目|関連機能|設定範囲|備考|
|---|---|---|---|---|
|デフォルト接続先設定||0: 自動接続しない<br/>n:1～N 自動接続する<br/>|設定値がn(1～N)の場合、外部アクセスサービスエントリー時にサーバーnへ自動接続する。|


###### 制限・注意事項

-   設定された値の接続先情報が未登録である場合、本システムデータが0であるのと同様の動作(自動接続しない)をする。

###### 機種固有情報

-   本システムデータは、FCWと外部アクセス機能を搭載し、かつネットワークへの接続が可能である機種でのみ設定可能である。

-   Tarzan、Hagi、DMP5プロダクト、DMP6プロダクトでは、サーバー数Nは10である。

###### 参考資料

Common FF 2-17: Webアプリケーション連携

#### その他の設定

##### 認証情報送信時の確認画面表示

###### 概要

外部アクセスで接続したサーバーに認証情報を送信する際に確認画面を表示するかを設定する。

###### システムデータ

|項目|関連機能|設定範囲|備考|
|---|---|---|---|---|
|認証情報送信時の確認画面表示||0: 表示しない<br/>1: 表示する<br/>|SecSysのリソース<br/>反映タイミング:即時<br/>|


###### 制限・注意事項

-   \[表示しない\]と設定された場合であっても認証情報に欠落などの不備がある場合には確認画面が表示される。

-   CH14968(DMP-Kobe以降)により導入

###### 機種固有情報

-   本システムデータは、FCWと外部アクセス機能を搭載し、かつネットワークへの接続が可能である機種でのみ設定可能である。

###### 参考資料

Common FF 2-17: Webアプリケーション連携

Common FF 3-02-17 認証 ,