# メディアプリント

## メディアプリントとは

###### 概要
メディアプリントは、メディアに書き込まれたデジタルカメラ画像または文書フォーマットデータを、デコンポーズしてプリントアウトする機能である。
プリントモード・出力形態として、以下がある。
･デジカメプリント
メディアにデジタルカメラの標準フォーマットで格納されたデータをプリントアウトする。  
出力形態は、以下の2種類。
(1) インデックスプリント
1ページに最大24画像ずつ、30x40mmのサイズで、インデックスを付加してプリントアウトする。
(2) 写真プリント
1ページにn画像をプリントする。(n=1,2,3,4,6,8)
- 文書プリント
メディアに文書フォーマットで格納されたデータをプリントアウトする機能である。
出力形態は、以下の2種類。
(1) インデックスプリント
文書名を、1ページに最大50ファイルずつ(50行)、インデックスを付加してプリントアウトする。
(2) 文書プリント
文書をプリントアウトする。

###### 対応フォーマット

各プリントモードで対応するファイルフォーマットは、「システム基本仕様書
Features & Functions編 Print Service別冊 MediaPrint」参照。

###### 対応プロダクトと提供機能
メディアプリントの導入時期・プロダクト・テリトリは、以下の通り。但し,FCWのみ(HBでは提供しない)[1]
- デジカメプリント  
時期 :2004年12月以降  
プロダクト :カラー機  
テリトリ :FX
###### DMP6-1以降FX,IBG(AP),MN(PGS1002SGP/PGS2002SGP)に提供する(CH11258)
- 文書プリント
上記「デジカメプリント」と同じ。DMP-Kobe-1以降は白黒機にも提供する(CH14863)。

###### 動作条件

「システム基本仕様書 Features & Functions編 Print
Service別冊 MediaPrint」参照(CH13091/CH14333)。

###### 制限・注意事項/備考
本章でHDDと記載される場合SDを含むものとする(RF3846 -
SDCard対応)。

###### 機種固有情報

## ハードウェア

「システム基本仕様書 Features & Functions編 Print
Service別冊 MediaPrint」参照(CH13091/CH14333)。

## ユーザ操作

### 基本操作

###### 動作仕様

ユーザ操作および表示の概要を以下に示す。詳細は、ダイアログ仕様書参照。

1.  {デジカメプリント|文書プリント}を指定する。  
    > メディアが挿入されている場合は、(3)へ。  
    > メディアが挿入されていない場合は、(2)へ。

2.  メディアの挿入を促し、  
    > メディアを挿入して、例えばスタートボタン押下のようなユーザ操作を行なう。。

3.  
メディアにアクセスし、インデックス番号の割り当て・ファイル属性の読み出し等が行われ、  
その後に、メディアプリント操作が可能となる。
   \[詳細\]
   インデックス番号の割り当て・ファイル属性の読み出し等の最中(=「論理メディア作成中」と呼ぶことにする)には、

1.  取り消しボタンを設けて途中でキャンセルできるようにする。
  キャンセルしたときは「メディア取り出し要求(論理メディア作成中断要求)」を通知して「メディア取り出しOK」を確認してからメディアプリントサービスから抜ける。

1.  割り込みボタンは無効とする。

2.  Auto Clear禁止とする。
その他の詳細な動作仕様については後述の「システム動作」の章における「論理メディア作成中」の記述を参照。

1.  メディアプリントを実行する。  
    > 4-1) ファイルを選択する。  
    > 4-2) プリント形式を選択する。  
    > 4-3) プリントパラメータを設定する。  
    > 4-4) プリントスタートを指示する。  
    > 4-5) メディアからファイル/データを読み出して、プリントアウトする。
\[詳細\]
1)読み込み中(HDD無しの場合は「読み込み」かつ「プリントジョブ」中)はメディアアクセス中なので、メディアプリントサービスからは抜けることはできない。
メディアプリントサービス"画面"から抜ける(Menuボタン押下時など)かどうか?、は該当UI
Dialogue仕様を参照のこと。
※実際はUI Dialogue Concept and Basic Behaviorに従い\[「抜ける」。
2)プリントジョブ中はメディア非アクセスになる。このときは通常のプリントジョブの仕様に従う(UI
DFD 8Jobの「Printer Job」、「プリンタープリント」などの章を参照)。

1.  メディアプリント終了をユーザに知らせる。

2.  3.  メディアリーダがメディア非アクセスしていることを確認(LED消灯している状態)して、メディアを抜き取る。

4.  オートクリア時、メニューボタン押下時、ショートカットキー押下などの場合は、メディアプリントサービスから抜けるのみ(「メディア取り出し要求(論理メディア作成中断要求)」は出さない)

5.  オートクリア後の初期画面がメディアプリントの場合、自分自身のサービスのショートカットキー押下時の場合は、  
    > その時点で、メディアが挿入されていれば、処理を開始し上記(1)からやり直す。  
    > メディアが挿入されていなければ、メディアの挿入を促す画面を表示する(2)。

###### 制限・注意事項/備考
- 
メディアは、デジタルカメラ、PCにてフォーマット済みのものを使用すること。
- 
メディアアクセス中にメディアを取り出すとメディアを破壊する可能性が有る。
この場合、「メディア未挿入」エラー(後述の「エラー処理」の章参照)が検知された時点で、例えばUIに以下の旨のメッセージを表示する。  
メディアが抜き取られました。  
操作中にメディアが抜かれるとメディアやファイルが破損する可能性があります。  
メディアは全ての操作が終了してから抜いてください。  
ジョブ実行中であれば、ジョブをアボートする。
- 
文書プリントの場合、PDF文書、TIFF文書、XPS文書(CH11715)のプリントが可能で、同時に扱うことができる。
-  メディアプリントは、プリントPGS1035SGPによって管理される。
-  メディアアクセス中は、メディアリーダーのLEDが点灯する。
  

###### 機種固有情報

### インデックス番号の割り当て

###### 概要

メディア内のプリント可能ファイルには、1～900のインデックス番号が自動的に割り当てられる。

インデックス番号を指定して、プリントするファイルを指定することができる。

###### 動作仕様

###### 制限・注意事項/備考

プリント可能ファイルが901以上在る場合、901以降のファイルは操作対象にならない。

###### 機種固有情報

### ファイルの属性

###### 概要

メディア内のプリント可能なファイルの属性をUIに表示する。

###### 動作仕様

表示する属性は、以下の通り。

|ファイル属性|HB|FCW|備考|
|---|---|---|---|---|
|対象ファイル総数|○|○||
|インデックス番号|○|○||
|ファイル名|○|○|ファイル名.拡張子として表示する (CH11778)|
|書き込み日時|○|○|ファイルフォーマット内に記録される撮影日時ではない。|
|サムネール画像|×|デジカメプリント:○<br/>文書プリント:×<br/>|**CH763**|

ファイルの順は、「インデックス番号(昇順)」「ファイル名(昇順)」「書き込み日時(昇順)」から選択可能。デフォルトは、「インデックス番号(昇順)」。

###### サムネール画像表示対応(**CH763)**

1.  サムネール画像表示に必要なもの
UI DFD 31.サムネール/プレビュー 31.1.サムネール参照。

1.  動作/機能
Media内に格納されている画像を、以下の通りサムネール画像と文書情報で構成して、UIに一覧表示させる。
表示する項目や動作/機能の仕様については、
UI DFD 31.サムネール/プレビュー 31.1.サムネール参照。

1.  例外処理


1.  メディア内の画像ファイル名の拡張子が正しくない場合は、一覧表示されない。

2.  その他は、UI DFD 31.サムネール/プレビュー 31.1.サムネール参照。

###### 制限・注意事項/備考

   ・CommonFF Ⅱ.Ⅰ.Ⅰ.Print Service別冊Media
Printでは「Default=なし」という記述があるが,UI
Dialogue仕様上上記のようにする。

  ・「降順」は要求がないため不要。

###### 機種固有情報

- サムネール画像表示対応:
TarzanAtLaunchでは対応しない。対応プロダクトはUI DFD
31.サムネール/プレビュー 31.1.サムネール参照。

### ファイルの選択

###### 概要

プリントするファイルをUIから選択する。

###### 動作仕様

選択方法は、以下の通り。(CH9535より削除)

|ファイル選択方法|HB|FCW|備考|
|---|---|---|---|---|
|全ファイル一括選択|○|○||
|インデックス番号による選択|○|○|1つ または 複数(MからN)の番号指定。<br />詳細は、ダイアログ仕様書参照。|
|ファイル属性表示画面<br/>から直接選択<br/>|○|○|複数選択可。<br/>(CH9535より削除)<br/>|


###### 制限・注意事項/備考

   ・ファイル選択方法のデフォルトはなし(どの選択方法も採用されていない)(非技術的要件のため)。

  (CH9535より削除)

###### 機種固有情報

CH9535より

1.  文書プリントの場合,
    ファイル選択方法である「全ファイル一括選択」、「インデックス番号による選択」、「ファイル属性表示画面から直接選択」のいずれの場合も
選択可能な選択数は

TarzanW1、Hagi以降: FCW=32文書

1.  デジカメプリントの場合,
    ファイル選択方法である「ファイル属性表示画面から直接選択」のときのみ選択可能な最大数は

共通: FCW=100文書

### インデックスプリント

###### 概要

インデックスプリントは、縮小画像(デジカメプリント) /
ファイル名(文書プリント)
等を、インデックス番号と共にページ内に並べてプリントする形式のもの。

###### 動作仕様
-  前準備  
「25.3.1 基本操作」の(1), (2)

1.  プリントパラメータを指定する(但し,部数のみ)。

2.  プリントを実行する。
-  後始末  
「25.3.1 基本操作」の(4), (5)
前準備～後始末の間に、インデックスプリントの再実行やデジカメプリント・文書プリントを行っても良い。

###### プリントパラメータ

プリントパラメータ一覧を以下に示す。

|項目|ユーザ選択<br />可○/否×|パラメータ<br />*:デフォルト|システムデータ有○/無×|
|---|---|---|---|---|
|部数|HDD有=○|"1"～"999"|×|
||HDD無=×|"1"(固定)|×|
|Collate/UnCollate|×|"Collate"|×|
|カラーモード|<デジカメ・インデックスプリント>|||
||×|"BW"<br/>"Color" *<br/>(※白黒機の場合:"BW"(固定))<br/>|×|
||<文書・インデックスプリント>|||
||×|"BW"|×|
|スムージング(CH9397)|<デジカメ・インデックスプリント>|||
||×|"OFF"*<br/>"ON"<br/>|×|
||<文書・インデックスプリント>|||
||×|"OFF"(固定)|×|
|印刷モード(画質)|<デジカメ・インデックスプリント>|||
||×|"デジカメプリント用標準"(固定)|×|
||<文書・インデックスプリント>|||
||×|"文書プリント用標準"(固定)|×|
|自動画質調整|<デジカメ・インデックスプリント>|||
||×|"実施"(固定)|×|
||<文書・インデックスプリント>|||
||×|"未実施"(固定)|×|
|片面/両面|×|"片面" *<br/>"両面-長辺とじ"<br/>"両面-短辺とじ"<br/>|×|
|出力用紙サイズ(SMH選択時のみ)|×|"A3 SEF"<br/>"A4 SEF / LEF"<br/>"8.5x11" SEF / LEF"<br/>※<br />内蔵トレイのデフォルトは、なし。給紙トレイの設定に従う。<br/>※ユーザ選択不可なので後述の「デジカメプリント」もしくは「文書プリント」における設定値に従う。対象外の用紙サイズが選ばれていたときにはインデックスプリントモードには移行できないようにする。<br/>|×|
|給紙トレイ|×|"Tray 1" * ～"Tray N"<br/>"SMH"<br/>A3 SEF、A4 SEF/LEF、8.5x11" SEF/LEFのトレイのみ選択可。<br/>|×|
|自動トレイ切り替え(ATS)|×|"あり"(l固定)|×|
|SMHの紙質|×|各プロダクトのFF IOT Device Functions参照。|×|
|排出先|×|各プロダクトの標準トレイ固定。|×|
|ステープル|×|"しない"|×|
|パンチ|×|"しない"|×|
|ファイル印字順序|×|"インデックス-昇順"(l固定)|×|


###### 制限・注意事項/備考

- 非技術的要件により、「部数」(ハードテンキーにより入力するため)は除くすべてはユーザ選択は不可。

- システムデータは、非技術的要件によりなし。

- SMHのラストトレイインサート機能は動作しない。

  ・デジカメプリントもしくは文書プリントで設定した<プリントパラメータ>を引き継いでそれぞれ(デジカメプリント/文書プリント)のインデックスプリントのそれに設定するため、

   上表には記述していないプリントパラメータでインデックスプリントモードには移行できないようにする。

     例) デジカメプリントもしくは文書プリントで
- カラーモード: 自動
または

- 給紙トレイ: 出力用紙サイズがB4のトレイ

 のときはインデックスプリントに移行できない。

  ・上記の「インデックスプリント」の移行もしくはスタート起動条件として以下の条件のときは、移行可能にしてスタート起動時にコンフリクトチェックを行なう。

1.  トレイ抜け,用紙なし,関連商品がDisable(Card無し、料金無し)の場合などはCopy
    Serviceの仕様と同様。

    -   UI DFD 2. Copy 2.3.Conflict, 12.部門管理 12.4.その他を参照。

2.  インデックスプリントモード移行後に選択していた給紙トレイの用紙サイズをB4などインデックスプリント対象外の用紙サイズに変更してしまった場合は
スタート起動時にコンフリクトチェックを行なう。

###### 機種固有情報

CH9397(COメニューにスムージング設定を追加) : Hagi以降に対応。

### デジカメプリント

###### 概要

指定されたデジカメ画像をプリントする。

###### 動作仕様
-  前準備  
「25.3.1 基本操作」の(1), (2)

1.  プリントパラメータを指定する。

2.  プリントを実行する。
-  後始末  
「25.3.1 基本操作」の(4), (5)
前準備～後始末の間に、インデックスプリントの実行やデジカメプリントの再実行を行っても良い。

###### プリントパラメータ

プリントパラメータ一覧を以下に示す。

|項目|ユーザ選択<br />可○/否×|パラメータ<br/>*:デフォルト<br/>|システムデータ有○/無×|
|---|---|---|---|---|
|部数|HDD有=○|"1"～"999"|×|
||HDD無=×|"1" (l固定)|×|
|Collate/UnCollate|×|"Collate" (l固定)|×|
|カラーモード|○|"BW"<br/>"Color" *<br/>(※白黒機の場合:"BW"(固定))<br/>|×|
|スムージング(CH9397)|〇|"OFF"*<br/>"ON"<br/>|×|
|印刷モード(画質)|×|"デジカメプリント用標準"(固定)|×|
|自動画質調整|×|"実施"(固定)|×|
|片面/両面|○|"片面" *<br/>"両面-長辺とじ"<br/>"両面-短辺とじ"<br/>|×|
|出力用紙サイズ(SMH選択時のみ)|○|"A3ノビ"<br/>"A3 SEF"<br/>"B4"<br/>"A4 SEF/LEF"<br/>"8.5x11" SEF/LEF"<br/>"B5 SEF/LEF"<br/>"ハガキ SEF/LEF"(BG108620)<br/>※ デフォルトは、SMHのみ。<br />内蔵トレイのデフォルトは、なし。給紙トレイの設定に従う。<br/>※ デフォルトの値はDFD 2.2.1.Copy Function-PaperSelection 2.2.1.4.SMHの仕様と同様、とする。対象外の用紙サイズが選ばれていたときには手差し設定画面を[閉じる]ときもしくはスタート時にチェックする。<br/>|×|
|給紙トレイ|○|"Tray 1" * ～"Tray N"<br/>"SMH"<br/>※ 出力用紙サイズのトレイのみ選択可。<br/>|×|
|SMHの紙質|○|各プロダクトのFF IOT Device Functions参照。|×|
|排出先|×|各プロダクトの標準トレイ固定。|×|
|ステープル|×|"しない"|×|
|パンチ|×|"しない"|×|
|画像配置|○|・"用紙いっぱいにプリント" *<br/>・"用紙に1画像ずつプリント"<br/>「出力画像サイズ」の設定も合わせて必要<br/>・"用紙に入るだけ並べてプリント"<br/>「出力画像サイズ」の設定も合わせて必要<br/>・"用紙にN枚ずつプリント"<br/>「N-up」の設定も合わせて必要<br/>|×|
|出力画像サイズ|○|"A4"<br/>"8.5x11""<br/>"はがき"<br/>"L"<br/>"2L" *<br/>※ 画像配置が「用紙に1画像ずつプリント」または「用紙に入るだけ並べてプリント」時のみ有効。<br/>|×|
|N-up|○|"2up"<br/>"3up" *<br/>"3up"(左寄せ)<br/>"4up"<br/>"6up"<br/>"8up"<br/><ul><li>画像配置が「用紙にN枚ずつプリント」時のみ有効。<br/></li><li>「右→左」「左→右」の指定はない。<br/></li></ul>|×|


###### 制限・注意事項/備考

- デジカメのインデックスプリントモードに切り替えたとき、それまでデジカメプリントモードで設定されていたプリントパラメータが反映される。

但し、インデックスプリントに関係する項目で設定範囲外のパラメータが設定されてしまっていた場合は、インデックスプリントモードに切り替えることはできない。

- 原稿イメージサイズより小さい用紙サイズが選択された場合、自動縮小処理する。

- 原稿イメージサイズより大きい用紙サイズが選択された場合、自動拡大せず、100%サイズで出力する。

- CH7752より、「システムデータ」はすべてDrop。

  ・SMHのラストトレイインサート機能はCopy
Serviceと同等の機能を提供する(※DFD 2.2.1.Copy Function-PaperSelection
2.2.1.4.SMH参照)。

###### 機種固有情報

CH9397(COメニューにスムージング設定を追加) : Hagi以降に対応。

### 文書プリント

###### 概要

指定された文書をプリントする。

###### 動作仕様
-  前準備  
「25.3.1 基本操作」の(1), (2)

1.  プリントパラメータを指定する。

2.  プリントを実行する。
-  後始末  
「25.3.1 基本操作」の(4), (5)
前準備～後始末の間に、インデックスプリントの実行や文書プリントの再実行を行っても良い。

###### プリントパラメータ

プリントパラメータ一覧を以下に示す。

|項目|ユーザ選択<br />可○/否×|パラメータ<br/>*:デフォルト<br/>|システムデータ有○/無×|
|---|---|---|---|---|
|部数|HDD有=○|"1"～"999"|×|
||HDD無=×|"1"(固定)|×|
|Collate/UnCollate|×|"Collate" (固定)|×|
|カラーモード|○|"BW"<br/>"Color"<br/><デフォルト><br/>FX/IBG: BW<br/>MN: Color (CH7733/CH20757)<br/>(※白黒機の場合:"BW"(固定))<br/>(CH8903で「自動」削除)<br/>|×|
|スムージング(CH9397)|〇|"OFF"*<br/>"ON"<br/>|×|
|印刷モード(画質)|×|"文書プリント用標準"(固定)|×|
|自動画質調整|×|"未実施"(固定)|×|
|片面/両面|○|"片面" *<br/>"両面-長辺とじ"<br/>"両面-短辺とじ"<br/>|×|
|出力用紙サイズ(SMH選択時のみ)|○|"A3"<br/>"A4 LEF/SEF"<br/>"A5 LEF/SEF"<br/>"B4"<br/>"B5 LEF/SEF"<br/>"8.5×11" LEF/SEF"<br/>"8.5×14""<br/>"11×17""<br/>※デフォルトの値はDFD 2.2.1.Copy Function-PaperSelection 2.2.1.4.SMHの仕様と同様とする。対象外の用紙サイズが選ばれていたときには手差し設定画面を[閉じる]ときもしくはスタート時にチェックする。<br/>|×|
|給紙トレイ|○|"自動" *<br/>"Tray 1"～"Tray N"<br/>"SMH"<br/>|×|
|SMHの紙質|○|各プロダクトのFF IOT Device Functions参照。(BG64397のため「デフォルト:"普通紙"」を削除)|×|
|排出先|×|プリントパラメータの設定に従い自動選択される。|×|
|ステープル|○|・DMP6-3まで:各プロダクトのFF IOT Device Functions参照。<br/>・DMP2007-1:親展ボックスと同じ。ただし、左下シングル、下ダブル、右下シングルは対応しない(CH12886)。<br/>・DMP2007-2以降:親展ボックスと同じ(CH12886)。<br/>デフォルトは、"しない"。<br/>・D-Fin搭載マシン接続時、ホチキス選択時に上限を含むメッセージ表示を行う。上限値は、システムデータホチキス1セットの最大用紙枚数を参照する(CH8926)。<br/>|×|
|パンチ|○|・DMP6-3まで:各プロダクトのFF IOT Device Functions参照。<br/>・DMP2007-1:親展ボックスと同じ。ただし、下位置(2/3/4穴)は対応しない。(CH12886)。<br/>・DMP2007-2以降:親展ボックスと同じ(CH12886)。<br/>デフォルトは、"しない"。<br/>|×|
|N-up|○|"しない" *<br/>"2up"<br/>"4up"<br/>|×|


###### 制限・注意事項/備考

  ・文書プリントから文書インデックスプリントに切り替えるときの仕様は、上記「デジカメプリント」の<制限・注意事項/備考>記載のそれと同様とする。

  ・原稿イメージサイズより小さいもしくは大きい用紙サイズを選択された場合は、上記「デジカメプリント」の<制限・注意事項/備考>記載のそれらと同様とする。

  ・給紙トレイ:\[自動\]選択時は、100%サイズで処理し、該当サイズの用紙トレイを自動選択する

  ・CH7752より、「システムデータ」はすべてDrop。

- SMHのラストトレイインサート機能はCopy
Serviceと同等の機能を提供する(※DFD 2.2.1.Copy Function-PaperSelection
2.2.1.4.SMH参照)。

- ステープル、パンチ、用紙サイズに関するスタートコンフリクトは、Copy
Serviicと同等の内容とする。

詳細はUI DFD 2.3.1.38.ホチキスに関するコンフリクト,
2.3.1.39.パンチに関するコンフリクトを参照

【関連CH】

1.  CH9156

2.  CH9194(C-Fin装着時の八開(台湾/中国),十六開(台湾/中国)選択時(但し現在はこの用紙サイズ選択は文書プリントでは不可であることに注意)。

###### 機種固有情報

CH8926 : TarzanAtLaunch, TarzanPL(※D-Fin搭載時のみなので)で対応。

CH9156 : TarzanAtLaunch, KutaniNext(Vup), TarzanPLで対応。

CH9194 : KutaniNext(Vup), TarzanPLで対応。

CH9397(COメニューにスムージング設定を追加) : Hagi以降に対応。

###### システムデータ(参考)(CH8926)

|項目|関連機能|設定範囲|パラメータ名/備考|
|---|---|---|---|---|
|ホチキス 1セットの最大用紙枚数|2.2.6.4.Staple(ホチキス)<br/>26.3.2.5.文書合成<br/>26.5.4.再プリント時の設定変更<br/>|10～150|範囲はFinisherに依存|


###### Pinot/Herakles-MN 上限枚数として表示される値はシステムデータ「1セットの最大用紙枚数」の値である(用紙種類・用紙坪量ごとの最大用紙枚数ではない)。(CH18126)

### 設定確認

###### 概要

設定確認ボタンを押すことにより、Media
Printサービスのプログラム機能に対して、デフォルト状態から設定変更されている機能の状態を一覧表示して確認することできる。

設定確認の仕様についてはUI DFD 7.設定確認に準拠する。

###### 注意・制限事項

###### 機種固有情報

## システム動作

### ユーザ操作状態

ユーザ操作に関連するメディアプリントの状態には、以下の3種類がある。

|ユーザ操作状態|概要|開始条件|終了条件|
|---|---|---|---|---|
|論理メディア作成中|リスト表示のためのインデックス番号の割り当て・ファイル属性の読み出し中|メディアプリントサービスに入って論理メディア作成開始操作時|論理メディア作成完了|
|ユーザ操作待ち/操作中(非メディアアクセス)|メディアプリントサービス内のユーザ操作待ち/操作中。|論理メディア作成完了|メディアプリント実行開始操作|
|ジョブ実行中(メディアアクセス中)|メディアアクセスが必要なジョブ実行中状態|メディアプリント実行開始操作|メディアアクセス終了または当該ジョブの終了|
|ジョブ実行中(非メディアアクセス)|メディアアクセス終了後のジョブ実行中状態<br/>[例]HDD有り時のプリントジョブ中。<br/>|当該ジョブ開始されたとき|当該ジョブの終了|
|||||
|||||
|||||


###### 注意事項

1)「メディアのセット待ち」という状態はない。

  デジカメプリントまたは文書プリントを選択するとすぐに論理メディア作成開始操作となり、「論理メディア作成中」の状態に移行する。「メディア未挿入」だった場合エラー画面表示する。

2)「論理メディア作成」開始/終了:
リスト表示のためのインデックス番号の割り当て・ファイル属性の読み出し開始/終了を意味する。

2.1)HDD有り時には内部ジョブが

-「メディア読み込みジョブ」(メディアアクセス中)

-「プリントジョブ」(非メディアアクセス)

に分かれる。

2.2)HDD無し時には内部内部ジョブが

-「メディア読み込み&プリントジョブ」(メディアアクセス中)

と1個のみのジョブになる。

3)ジョブ中の 「メディア読み込み」には

「ファイル情報の読み出し」と「デコンポーズ中」

 が含まれる。

### ユーザ操作可否

メディアプリントジョブを複数同時に実行することはできない。  
他サービスのジョブとは、連続実行することが可能である。

メディアプリントの各状態に対して、可能なユーザ操作の関係を以下に示す。(○:操作可能、×:操作不可)

|ユーザ操作状態|ユーザ操作|||||
|---|---|---|---|---|---|---|
||新規メディアプリントジョブの起動|メディアプリントジョブのキャンセル|メディアプリントジョブの一時停止|メディアプリントジョブの再開|割り込み|
|論理メディア作成中|×|×<br/>(ジョブ自体存在しない*2)<br/>|×<br/>(ジョブ自体存在しない*2)<br/>|×<br/>(ジョブ自体存在しない*2)<br/>|×|
|ユーザ操作待ち/操作中(非メディアアクセス)|○|↑|↑|↑|○|
|ジョブ実行中(メディアアクセス中)|×|○<br/>(一時停止ジョブが存在する場合のみ)<br/>|○|○<br/>(一時停止ジョブが存在する場合のみ)<br/>|×<br/>)<br/>|
|ジョブ実行中(非メディアアクセス)|○|↑|↑|↑|○|


|ユーザ操作|メディアプリント操作状態|||
|---|---|---|---|---|
||非ジョブでの<br />メディアアクセス中|メディアプリント実行中|ユーザ操作待ち/<br/>操作中<br/>|
|メディアアクセスの中止|○|×|×|
|メディアプリントジョブの起動|×|×|○|
|メディアプリントジョブの中止|×|○|×|
|メディアプリントジョブの一時停止|×|○|×|
|メディアプリントジョブの再開|×|*1|×|
|割り込み|×|○|○|
|メディアプリント操作 (上記以外)|×|○|○|


\*1 : メディアプリントジョブが一時停止状態の場合は、操作可能(○)。  
それ以外は、操作不可(×)。

\*2 :
メディアプリントジョブをバックグラウンドジョブになった(ラン画面上でサービス切り替えボタン押下時など)ものに対しては除く。

\*3 :
「メディアプリント操作」:新たなジョブ起動やUIへのリスト表示.。「ユーザ操作待ち/操作中(メディアアクセス中)」に含まれる操作。

\*4 :
論理メディア作成中、ジョブ実行中(メディアアクセス中)はMediaPrintサービスをExitすることはできない。

### ジョブ種別
メディアプリントにおける、ジョブの状態には、以下の3種類がある。
(1) メディア読み込み&デコンポーズ中(※HDD有りのときのみ)
(2) メディアプリント予約中
HDD無しのときは「メディア読み込み&デコンポーズ&プリント予約中」となる。
(3) メディアプリント実行中
HDD無しのときは「メディア読み込み&デコンポーズ&プリント実行中」となる。
(4) メディアプリントポーズ中
HDD無しのときは「メディア読み込み&デコンポーズ&プリントポーズ中」となる。

### ジョブ状態
各ジョブの状態をUIから確認することができる。

|ジョブ状態|動作概要|UI表示|
|---|---|---|---|
|メディア読み込み&amp;デコンポーズ中|メディア情報を読み出しデコンポーズ中|ダイアログ仕様書参照。|
|メディアプリント*1予約中|ジョブの起動が指示され、前のジョブが実行されている。<br/>※HDD無しのときは「メディア情のを読み出しデコンポーズ中」が並行実行されている。<br/>|ダイアログ仕様書参照。|
|メディアプリント*1実行中|メディアプリントジョブが実行されている。<br/>※HDD無しのときは「メディア情報の読み出しデコンポーズ中」が並行実行されている。<br/>|ダイアログ仕様書参照。|
|メディアプリント*1ポーズ中|メディアプリントジョブが一時停止されている。<br/>※HDD無しのときは「メディア情報の読み出しデコンポーズ中」が並行実行されている。<br/>|ダイアログ仕様書参照。|


\*1 : 「メディアプリント」には以下のユーザジョブタイプがある:

- デジカメプリント

- デジカメインデックスプリント

- 文書プリント

- 文書インデックスプリント  
いずれも上記と同じ「ジョブ状態」を持つ。

### ジョブ制御

各ジョブの状態と、各ジョブに対する制御の可否(○/×)を以下に示す。

|ジョブ状態|ジョブ制御||||
|---|---|---|---|---|---|
||中止|一時停止|再開|割り込み|
||||||
|メディア読み込み&amp;デコンポーズ中|○|○|○|×|
|メディアプリント予約中|○|×|×|○|
|メディアプリント実行中|○|○|*1|○|
|メディアプリントポーズ中|○|×|○|○|


\*1 : 一時停止中は、再開可(○)。  
それ以外は、再開不可(×)。

## エラー処理

メディアプリント特有のエラーの種別、処理内容、および、動作について記述する。

### 検知可能なエラー

検知可能なエラーの種別については「PrintServiceFF(MediaPrintService編)」を参照のこと。

|||||
|---|---|---|---|---|
|||||
|||||
|||||
|||||
|||||
|||||
|||||
|||||


### エラー発生時の動作概要

エラー発生時の動作を以下の場合に分けて説明する:

- 非ジョブ状態でのメディアアクセス中\*のエラー

     \*メディアアクセス中とは、「デジカメor.文書リスト表示中処理中、詳細情報取得中」などを意味する。

 ・ジョブ実行中のエラー

#### 非ジョブ状態でのメディアアクセス中のエラー

|||||
|---|---|---|---|---|
|||||
|||||
|||||
|||||
|||||
|||||
|||||
|||||


###### 詳細

- エラー表示画面を\[閉じる\]ボタン押下もしくはAll
Clearなどで閉じられたときには、メディアプリントサービスから抜けること。

- エラー分類(ServiceFail,Warningなど)の詳細な仕様(UI表示の必要/不必要)は、以下の文献を参照のこと:

\- Concept and Basic Behavior K1.0

\- CommonFF FaultMgt(K1.2.6).

- サムネール表示に必要なものは、UI DFD 31.サムネール/プレビュー
31.1.サムネールを参照。

###### 機種固有情報

- サムネール表示対応プロダクト(CH763) : UI DFD
31.サムネール/プレビュー 31.1.サムネールを参照。

#### ジョブ実行中のエラー

|||||
|---|---|---|---|---|
|||||
|||||
|||||
|||||
|||||
|||||
|||||
|||||
|||||
|||||
|||||
|||||


###### 詳細

- スタート起動時ではエラーは検出せずに、ジョブ起動させる。

   ・エラー表示画面を\[閉じる\]ボタン押下もしくはAll
Clearなどで閉じられたとき、メディアプリントサービスから抜けること。

[1] さらに、FCWではSelection Service:Media Printの値で表示制御する。